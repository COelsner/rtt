<?xml version="1.0" encoding="utf8"?>
<project name="New-Ant-Tests" basedir="." default="test">
	<property name="archive.nonexists" location="${basedir}/tests/archives/nonExisting.zip"/>
	<property name="archive.exists" location="${basedir}/tests/archives/archive.zip"/>
	
	<property name="lib" location="${basedir}/../distribution/rtt.jar" />
	
	<taskdef name="RTTAntBatch" classname="rtt.ant.AbstractAntTask" classpath="${lib}" loaderref="${lib}"/>
	<taskdef name="config" classname="rtt.ant.newTasks.ConfigAntTask" classpath="${lib}" loaderref="${lib}"/>
	
	<target name="test">
		
		<echo>Running tests ...</echo>
		<RTTAntBatch archive="${archive.nonexists}" overwrite="false" />
		<RTTAntBatch archive="${archive.exists}" overwrite="no">
			<config name="EmptyConfig" />
			<config name="ParserConfig" parser="parser" />
			<config name="CPConfig">
				<classpath path="./../../../binary" />
			</config>	
		</RTTAntBatch>
		<RTTAntBatch archive="test.txt" overwrite="no" />					
	</target>
</project>